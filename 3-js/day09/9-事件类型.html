<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>级联菜单</title>
    <script>
        window.onload = function () {
            var grade = document.getElementById('grade');
            var clazz = document.getElementById('clazz');
            //年技数据
            var grades = [{
                id: 1001,
                name: '一年级'
            },
            {
                id: 1002,
                name: '二年级'
            }, {
                id: 1003,
                name: '三年级'
            }];
            //班级数据
            var clazzes = [{
                id: 101,
                name: '一年级1班',
                gradeId: 1001
            }, {
                id: 102,
                name: '一年级2班',
                gradeId: 1001
            }, {
                id: 103,
                name: '二年级1班',
                gradeId: 1002
            }, {
                id: 104,
                name: '二年级2班',
                gradeId: 1002
            }, {
                id: 105,
                name: '三年级1班',
                gradeId: 1003
            }, {
                id: 106,
                name: '三年级2班',
                gradeId: 1003
            }]
            //处理数据追加节点
            var gradeOption = '<option value="">请选择</option>';
            grades.forEach(function (item) {
                //生成option
                gradeOption += '<option value="' + item.id + '">' + item.name + '</option>';
            })
            grade.innerHTML = gradeOption;

            //在年级没有选择的时候班级禁用，选择了年级之后，班级启用，并且显示对应的班级
            grade.onchange = function () {
                //获取下拉列表用户选中的option的value值，给到select上
                // console.log(this.value);
                if (this.value) {
                    //如果用户选择的是一年级、二年级、三年级
                    //启用班级框
                    clazz.disabled = false;
                    //追加班级数据
                    var value = this.value;
                    var clazzResult = clazzes.filter(function (item) {
                        return item.gradeId == value;
                    });
                    var clazzOption = '<option value="">请选择</option>';
                    clazzResult.forEach(function (item) {
                        clazzOption += '<option value="' + item.id + '">' + item.name + '</option>';
                    });
                    clazz.innerHTML = clazzOption;
                } else {
                    //如果选择的是请选择，清空班级数据，禁用班级框
                    clazz.innerHTML = '<option value="">请选择</option>';
                    clazz.disabled = true;
                }
            }


            /*
            //将所有的班级数据遍历到班级下拉列表中
            var clazzOption = '<option value="">请选择</option>';
            clazzes.forEach(function (item) {
                clazzOption += '<option value="' + item.id + '">' + item.name + '</option>';
            });
            clazz.innerHTML = clazzOption;
            */





        }
    </script>
</head>

<body>
    <h3>级联菜单</h3>
    <!-- 年级下拉列表 -->
    <select name="" id="grade">
        <option value="">请选择</option>

    </select>
    <!-- 班级下拉列表 -->
    <select name="" id="clazz" disabled>
        <option value="">请选择</option>
    </select>
</body>

</html>