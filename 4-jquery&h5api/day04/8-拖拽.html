<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>拖拽</title>
    <style>
        body {
            height: 400px;
        }

        .parent {
            height: 200px;
            border: 1px solid blue;
        }

        .child {
            width: 100px;
            height: 100px;
            border: 1px solid red;
            margin: 10px;
            float: left;
        }
    </style>
    <script>
        window.onload = function () {
            var parent = document.querySelector('.parent');
            var childs = document.querySelectorAll('.child');
            console.log(childs);
            childs = Array.from(childs);
            childs.forEach((item, index) => {
                //开始拖放
                item.ondragstart = function (event) {
                    console.log('ondragstart')
                    // console.log(event);
                    event.dataTransfer.setData('id', item.id);
                }
                //正在拖放
                item.ondrag = function () {
                    console.log('ondrag')
                }
                //拖放结束
                item.ondragend = function () {
                    console.log('ondragend')
                }
                // console.log(item, index);
            });
            //进入目标元素
            parent.ondragenter = function (event) {
                console.log('ondragenter');
                //设置目标元素可放置
                // event.preventDefault();
            }
            //在目标元素内活动
            parent.ondragover = function () {
                console.log('ondragover');
                event.preventDefault();
            }
            //将拖放元素放置到目标元素内
            parent.ondrop = function (event) {
                console.log('ondrop');
                //获取数据传输对象内的数据，通过数据获取节点，放置节点
                var id = event.dataTransfer.getData('id');
                var dom = document.querySelector("#" + id);
                this.appendChild(dom);
                event.stopPropagation();
            }

            document.body.ondragover = function (event) {
                event.preventDefault();
            }
            document.body.ondrop = function (event) {
                console.log('ondrop');
                //获取数据传输对象内的数据，通过数据获取节点，放置节点
                var id = event.dataTransfer.getData('id');
                var dom = document.querySelector("#" + id);
                this.appendChild(dom);
                event.stopPropagation();
            }

            // function test(a,b){}
            // ES6箭头函数
            // (a,b)=>{}
        }
    </script>
</head>

<body>
    <div class="parent"></div>
    <div id="one" class="child" draggable="true">one</div>
    <div id="two" class="child" draggable="true">two</div>
    <div id="three" class="child" draggable="true">three</div>
    <div id="four" class="child" draggable="true">four</div>
</body>

</html>